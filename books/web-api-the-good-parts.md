# Web API: The Good Parts

https://www.oreilly.co.jp/books/9784873116860/

O'REILLY JAPAN
水野 貴明 著

## 2章 エンドポイントの設計とリクエストの形式

### 2.1 APIとして公開する機能を設計する。

- クライアントアプリケーションの画面とその遷移を考える。
- すべての機能を個別のAPIとして実装するのはあまり良い方法ではない。1つにまとめられる機能があるかもしれない。
- エンドポイントを考えながらAPIを整理する。

### 2.2 APIエンドポイントの考え方

- 人間が読んで理解できるURIにする。
  - むやみに省略形を使わない。国際規格として標準化されているものはむしろ使ったほうがわかりやすい。
  - APIでよく使われている英単語を使う。
- 基本はすべて小文字を使う。大文字小文字の混在はAPIを間違えやすくする。

## 3章 レスポンスデータの設計

### 3.3.4 配列とフォーマット
APIで配列を返したいケースでは、配列をそのまま返す方法と、レスポンス全体をオブジェクトにしてその中に配列を入れる方法がある。  
オブジェクトで包んだ記述方法のほうがおすすめ。
- レスポンスデータが何を示しているかがわかりやすくなる。
- レスポンスデータをオブジェクトに統一することができる。
- セキュリティ上のリスクを避けることができる。
  - トップレベルが配列であるJSONは、JSONインジェクションという脆弱性に対するリスクが大きくなる。
